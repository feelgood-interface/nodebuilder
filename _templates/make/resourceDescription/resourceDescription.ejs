---
to: src/output/descriptions/<%= pascalCase(resourceName) %>Description.ts
---
<%_ const helper = new Helper(); _%>
<%_ const builder = new Builder(mainParams, metaParams); _%>
import {
	INodeProperties,
} from 'n8n-workflow';

export const <%= helper.camelCase(resourceName) %>Operations = [
	{
		displayName: 'Operation',
		name: 'operation',
		type: 'options',
		displayOptions: {
			show: {
				resource: [
					'<%= helper.camelCase(resourceName) %>',
				],
			},
		},
		options: [
			<%_ operationsArray.forEach(operation => { _%>
			{
				name: '<%= helper.capitalCase(operation.operationId) %>',
				value: '<%= helper.camelCase(operation.operationId) %>',
				<%_ if (operation.description) { _%>
				description: '<%- helper.escape(operation.description) %>',
				<%_ } _%>
			},
			<%_ }); _%>
		],
		default: '<%= helper.camelCase(operationsArray[0].operationId) %>',
		description: 'Operation to perform',
	},
] as INodeProperties[];

export const <%= helper.camelCase(resourceName) %>Fields = [
	<%_ operationsArray.forEach(operation => { _%>
	<%= builder.resourceDescriptionDivider(helper.camelCase(resourceName), operation.operationId); %>
	<%_/**
	 * **********************
	 * PATH PARAMS & QS PARAMS
	 * **********************
	 */_%>
	<%_ if (operation.parameters) { _%>
	<%_ operation.parameters.forEach(param => { _%>
	{
		displayName: '<%= helper.titleCase(param.name); %>',
		name: '<%= helper.camelCase(param.name); %>',
		description: '<%= param.description; %>',
		type: '<%= helper.adjustType(param.schema.type); %>',
		<%_ if (helper.hasMinMax(param.schema)) { _%>
		typeOptions: {
			minValue: <%= param.schema.minimum %>,
			maxValue: <%= param.schema.maximum %>
		},
		<%_ } _%>
		required: true,
		default: <%- helper.getDefault(param.schema); %>,
		displayOptions: {
			show: {
				resource: [
					'<%= helper.camelCase(resourceName); %>',
				],
				operation: [
					'<%= helper.camelCase(operation.operationId); %>',
				],
			},
		},
	},
	<%_ }); _%> <%#_ end parameters loop _%>
	<%_ } _%> <%#_ end parameters if _%>
	<%_/**
	 * **********************
	 * REQUEST BODY ITEMS
	 * **********************
	 */_%>
	<%_ if (operation.requestBody) { _%>
	<%_ operation.requestBody.forEach((rbItem) => { _%>
	<%_ if (rbItem.required) { _%>
	<%_ Object.keys(rbItem.content).forEach((mimeType) => { _%>
	<%_ if (mimeType === "application/x-www-form-urlencoded") { _%>
	<%_ const properties = rbItem.content[mimeType].schema.properties; _%>
	<%_ Object.entries(properties).forEach(([property, value]) => { _%>
	{
		displayName: '<%= helper.titleCase(property); %>',
		name: '<%= helper.camelCase(property); %>',
		<%_ if (value.description) { _%>
		description: '<%- helper.escape(value.description) %>',
		<%_ } _%>
		type: '<%= helper.adjustType(value.type); %>',
		<%_ if (helper.hasMinMax(value)) { _%>
		typeOptions: {
			minValue: <%= value.minimum %>,
			maxValue: <%= value.maximum %>
		},
		<%_ } _%>
		required: true,
		default: <%- helper.getDefault(value); %>,
		displayOptions: {
			show: {
				resource: [
					'<%= helper.camelCase(resourceName); %>',
				],
				operation: [
					'<%= helper.camelCase(operation.operationId); %>',
				],
			},
		},
	},
	<%_ }); _%> <%#_ end properties loop _%>
	<%_ } _%> <%#_ end mimeType if _%>
	<%_ }); _%> <%#_ end mimeType loop _%>
	<%_ } else if (!rbItem.required) { _%>
	{
		displayName: '<%= rbItem.name %>',
		name: '<%= helper.camelCase(rbItem.name) %>',
		type: 'collection',
		placeholder: '<%= helper.getPlaceholder(rbItem.name); %>',
		default: {},
		displayOptions: {
			show: {
				resource: [
					'<%= helper.camelCase(resourceName); %>',
				],
				operation: [
					'<%= helper.camelCase(operation.operationId); %>',
				],
			},
		},
		options: [
			<%_ Object.keys(rbItem.content).forEach((mimeType) => { _%>
			<%_ if (mimeType === "application/x-www-form-urlencoded") { _%>
			<%_ const schema = rbItem.content[mimeType].schema; _%>
			<%_ Object.entries(schema.properties).forEach(([key, value]) => { _%>
			{
				displayName: '<%= helper.titleCase(key); %>',
				name: '<%= key %>',
				type: '<%= helper.adjustType(value.type); %>',
				default: <%- value.default || "''"; %>,
				<%_ if (value.description) { _%>
				description: '<%- helper.escape(value.description) %>',
				<%_ } _%>
			},
			<%_ }); _%> <%#_ end properties loop _%>
			<%_ } _%> <%#_ end mimeType if _%>
			<%_ }); _%> <%#_ end mimeType loop _%>
		],
	},
	<%_ } _%> <%#_ end rbItem.required if _%>
	<%_ }); _%> <%#_ end rbItem loop _%>
	<%_ } _%> <%#_ end requestBody if _%>
	<%_ if (operation.operationId === "getAll") { _%>
	{
		displayName: 'Return All',
		name: 'returnAll',
		type: 'boolean',
		default: false,
		description: 'Return all results.',
		displayOptions: {
			show: {
				resource: [
					'<%= helper.camelCase(resourceName); %>',
				],
				operation: [
					'<%= helper.camelCase(operation.operationId); %>',
				],
			},
		},
	},
	{
		displayName: 'Limit',
		name: 'limit',
		type: 'number',
		default: 5,
		description: 'The number of results to return.',
		typeOptions: {
			minValue: 1,
			maxValue: 1000,
		},
		displayOptions: {
			show: {
				resource: [
					'<%= helper.camelCase(resourceName); %>',
				],
				operation: [
					'<%= helper.camelCase(operation.operationId); %>',
				],
				returnAll: [
					false,
				],
			},
		},
	},
<%_ } _%> <%#_ end getAll if _%>
<%_ }); _%> <%#_ end operations loop _%>
] as INodeProperties[];
